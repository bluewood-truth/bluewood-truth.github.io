---
title: "μ•κ³ λ¦¬μ¦: λ„λΉ„ μ°μ„  νƒμƒ‰(BFS), κΉμ΄ μ°μ„  νƒμƒ‰(DFS)"
description: "νƒμƒ‰ μ•κ³ λ¦¬μ¦ λ€ν•΄ κ³µλ¶€ν•κ³  μ •λ¦¬ν• λ‚΄μ©μ…λ‹λ‹¤."
comments: true
category: [Algorithm Studying]
tag: [Algorithm, Python]
---

λ„λΉ„ μ°μ„  νƒμƒ‰κ³Ό κΉμ΄ μ°μ„  νƒμƒ‰μ€ μ •ν•΄μ§„ μμ„μ— λ”°λΌ κ·Έλν”„μ κ° λ…Έλ“λ¥Ό λ°©λ¬Έν•λ” **λ§Ήλ©μ  νƒμƒ‰(blind search)**μ λ€ν‘μ μΈ μ•κ³ λ¦¬μ¦μ΄λ‹¤. μ΄ ν¬μ¤νΈμ—μ„λ” μ•„λμ™€ κ°™μ€ κ·Έλν”„λ¥Ό μ΄μ©ν•μ—¬ λ‘ μ•κ³ λ¦¬μ¦μ„ μ„¤λ…ν•λ‹¤.

![graph](https://user-images.githubusercontent.com/55024033/107477986-137e4c80-6bbc-11eb-8544-57735c190de1.png)

```python
graph = {
    "A": ["B", "C", "D"],
    "B": ["E", "F"],
    "C": [],
    "D": ["G", "H"],
    "E": [],
    "F": [],
    "G": [],
    "H": ["G"]
}
```

<br>

# λ„λΉ„ μ°μ„  νƒμƒ‰(Breath First Search; BFS) [π¥](https://en.wikipedia.org/wiki/Breadth-first_search#/media/File:Animated_BFS.gif)

νƒμƒ‰μ„ ν•  λ• λ„λΉ„λ¥Ό μ°μ„ ν•΄μ„ νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦μ΄λ‹¤. νƒμƒ‰ κ³Όμ •μ—μ„ **ν(Queue)**λ¥Ό μ΄μ©ν•λ‹¤. μ£Όλ΅ μµλ‹¨κ²½λ΅λ¥Ό μ°Ύμ„ λ• μ‚¬μ©ν•λ‹¤.

λ„λΉ„ μ°μ„  νƒμƒ‰μ€ λ‹¤μ μν–‰μ„ λ°λ³µν•λ©° μ΄λ£¨μ–΄μ§„λ‹¤.

1. νμ—μ„ λ…Έλ“λ¥Ό ν•λ‚ κΊΌλ‚΄ λ°©λ¬Έν•λ‹¤.
2. ν•΄λ‹Ή λ…Έλ“μ— μ—°κ²°λ λ…Έλ“ μ¤‘ μ•„μ§ λ°κ²¬λμ§€ μ•μ€ λ…Έλ“λ¥Ό νμ— μ¶”κ°€ν•λ‹¤.

![bfs](https://user-images.githubusercontent.com/55024033/107478223-753eb680-6bbc-11eb-917c-590eedfb4c85.png)

1. Aλ¥Ό νμ— μ¶”κ°€ν•κ³  νƒμƒ‰μ„ μ‹μ‘ν•λ‹¤.
2. νμ—μ„ Aλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•κ³ , Aμ λ‹¤μ λ…Έλ“μΈ B, C, Dλ¥Ό νμ— μ¶”κ°€ν•λ‹¤.
3. νμ—μ„ Bλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•κ³ , Bμ λ‹¤μ λ…Έλ“μΈ E, Fλ¥Ό νμ— μ¶”κ°€ν•λ‹¤.
4. νμ—μ„ Cλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•λ‹¤.
5. νμ—μ„ Dλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•λ‹¤. Dμ λ‹¤μ λ…Έλ“μΈ G, Hλ¥Ό νμ— μ¶”κ°€ν•λ‹¤.
6. νμ—μ„ Eλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•λ‹¤.
7. νμ—μ„ Fλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•λ‹¤.
8. νμ—μ„ Gλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•λ‹¤.
9. νμ—μ„ Hλ¥Ό κΊΌλ‚΄ λ°©λ¬Έν•λ‹¤. Hμ λ‹¤μ λ…Έλ“μΈ Gλ” μ΄λ―Έ λ°©λ¬Έν–μΌλ―€λ΅ λ¬΄μ‹ν•λ‹¤.

λ”°λΌμ„ λ°©λ¬Έν•λ” μμ„λ” A -> B -> C -> D -> E -> F -> G -> Hμ΄λ‹¤.

```python
import collections

def bfs(graph, start):
    discorvered = [start]
    queue = collections.deque([start])
    while queue:
        print("ν:", list(queue))
        node = queue.popleft()
        for next_node in graph[node]:
            if next_node not in discorvered:
                discorvered.append(next_node)
                queue.append(next_node)
                
    return discorvered
```

```python
visit_order = bfs(graph, "A")
print("λ°©λ¬Έ μμ„:", visit_order)

# <μ¶λ ¥>
# ν: ['A']
# ν: ['B', 'C', 'D']
# ν: ['C', 'D', 'E', 'F']
# ν: ['D', 'E', 'F']
# ν: ['E', 'F', 'G', 'H']
# ν: ['F', 'G', 'H']
# ν: ['G', 'H']
# ν: ['H']
# λ°©λ¬Έ μμ„: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']
```

<br>

# κΉμ΄ μ°μ„  νƒμƒ‰(Depth First Search; DFS) [π¥](https://en.wikipedia.org/wiki/File:Depth-First-Search.gif)

νƒμƒ‰μ„ ν•  λ• κΉμ΄λ¥Ό μ°μ„ ν•΄μ„ νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦μ΄λ‹¤. κΉμ΄ μ°μ„  νƒμƒ‰μ—λ” **μ¤νƒ(Stack)**μ΄ μ‚¬μ©λλ©°, μ¬κ·€λ΅λ„ κµ¬ν„μ΄ κ°€λ¥ν•λ‹¤. (β€» BFSλ” μ¬κ·€λ΅ ν’€μ΄ν•  μ μ—†λ‹¤)

κΉμ΄ μ°μ„  νƒμƒ‰μ€ λ‹¤μ μν–‰μ„ λ°λ³µν•λ©° μ΄λ£¨μ–΄μ§„λ‹¤.

1. μ¤νƒμ—μ„ λ…Έλ“λ¥Ό ν•λ‚ κΊΌλ‚Έλ‹¤.
2. ν•΄λ‹Ή λ…Έλ“μ— λ°©λ¬Έν•μ§€ μ•μ•λ‹¤λ©΄ λ°©λ¬Έν•κ³ , ν•΄λ‹Ή λ…Έλ“μ λ‹¤μ λ…Έλ“λ“¤μ„ μ¤νƒμ— μ¶”κ°€ν•λ‹¤.

![dfs](https://user-images.githubusercontent.com/55024033/107478249-7ff94b80-6bbc-11eb-8f6f-9357a4ddfeaa.png)

(μ¤νƒμ΄λƒ μ¬κ·€λƒμ— λ”°λΌ λ°©λ¬Έ μμ„κ°€ λ°”λ€” μλ” μμΌλ‚ κΉμ΄ μ°μ„  νƒμƒ‰μ΄λΌλ” μ μ€ λ™μΌν•λ‹¤. μ•„λλ” μ¤νƒμ„ κΈ°μ¤€μΌλ΅ ν• μ„¤λ…μ΄λ‹¤.)

1. Aλ¥Ό μ¤νƒμ— μ¶”κ°€ν•κ³  νƒμƒ‰μ„ μ‹μ‘ν•λ‹¤.
2. μ¤νƒμ—μ„ Aλ¥Ό κΊΌλ‚Έλ‹¤. Aλ¥Ό λ°©λ¬Έν•κ³  B, C, Dλ¥Ό μ¤νƒμ— μ¶”κ°€ν•λ‹¤.
3. μ¤νƒμ—μ„ Dλ¥Ό κΊΌλ‚Έλ‹¤. Dλ¥Ό λ°©λ¬Έν•κ³  G, Hλ¥Ό μ¤νƒμ— μ¶”κ°€ν•λ‹¤.
4. μ¤νƒμ—μ„ Hλ¥Ό κΊΌλ‚Έλ‹¤. Hλ¥Ό λ°©λ¬Έν•κ³  Gλ¥Ό μ¤νƒμ— μ¶”κ°€ν•λ‹¤.
5. μ¤νƒμ—μ„ Gλ¥Ό κΊΌλ‚Έλ‹¤. Gλ¥Ό λ°©λ¬Έν•λ‹¤.
6. μ¤νƒμ—μ„ Gλ¥Ό κΊΌλ‚Έλ‹¤. μ΄λ―Έ Gλ¥Ό λ°©λ¬Έν–μΌλ―€λ΅ λ¬΄μ‹ν•λ‹¤.
7. μ¤νƒμ—μ„ Cλ¥Ό κΊΌλ‚Έλ‹¤. Cλ¥Ό λ°©λ¬Έν•λ‹¤.
8. μ¤νƒμ—μ„ Bλ¥Ό κΊΌλ‚Έλ‹¤. Bλ¥Ό λ°©λ¬Έν•κ³  E, Fλ¥Ό μ¤νƒμ— μ¶”κ°€ν•λ‹¤.
9. μ¤νƒμ—μ„ Fλ¥Ό κΊΌλ‚Έλ‹¤. Fλ¥Ό λ°©λ¬Έν•λ‹¤.
10. μ¤νƒμ—μ„ Eλ¥Ό κΊΌλ‚Έλ‹¤. Eλ¥Ό λ°©λ¬Έν•λ‹¤.

λ”°λΌμ„ λ°©λ¬Έ μμ„λ” A -> D -> H -> G -> C -> B -> F -> Eμ΄λ‹¤.

(μ¬κ·€μ νΈμ¶ μμ„λ” μ¤νƒκ³Ό λ°©ν–¥μ΄ λ°λ€λ‹¤. λ”°λΌμ„ λ°©λ¬Έ μμ„λ” A -> B -> E -> F -> C -> D -> G -> Hκ°€ λλ‹¤.)

- μ¤νƒμ„ μ΄μ©ν• κµ¬ν„

```python
def dfs(graph, start):
    visited = []
    stack = [start]
    while stack:
        print("μ¤νƒ:", stack)
        node = stack.pop()
        if node not in visited:
            visited.append(node)
            for next_node in graph[node]:
                stack.append(next_node)
    
    return visited
```

```python
visit_order = dfs(graph, "A")
print("λ°©λ¬Έ μμ„:", visit_order)

# <μ¶λ ¥>
# μ¤νƒ: ['A']
# μ¤νƒ: ['B', 'C', 'D']
# μ¤νƒ: ['B', 'C', 'G', 'H']
# μ¤νƒ: ['B', 'C', 'G', 'G']
# μ¤νƒ: ['B', 'C', 'G']
# μ¤νƒ: ['B', 'C']
# μ¤νƒ: ['B']
# μ¤νƒ: ['E', 'F']
# μ¤νƒ: ['E']
# ['A', 'D', 'H', 'G', 'C', 'B', 'F', 'E']
```

- μ¬κ·€λ¥Ό μ΄μ©ν• κµ¬ν„

```python
def dfs(graph, node, visited=[]):
    visited.append(node)
    for next_node in graph[node]:
        if next_node not in visited:
            dfs(graph, next_node, visited)
    
    return visited
```

```python
visit_order = dfs(graph, "A")
print("λ°©λ¬Έ μμ„:", visit_order)

# <μ¶λ ¥>
# λ°©λ¬Έ μμ„: ['A', 'B', 'E', 'F', 'C', 'D', 'G', 'H']
```