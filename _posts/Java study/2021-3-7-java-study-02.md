---
title: "Java: 변수"
description: ""
category: "Java Study"
tag: "Java"
---



## 1. 변수의 타입

변수란 하나의 값을 저장할 수 있는 메모리 상의 공간이다. 하나의 변수에는 하나의 값만 저장할 수 있으므로 새로운 값을 저장하면 기존의 값은 사라진다. 변수를 선언하는 방법은 다음과 같다.

```java
int value;
```

여기서 `int`는 변수의 타입이다. 저장될 값이 어떤 형식인지를 지정한다. `value`는 변수명으로, 말 그대로 변수에 붙는 이름이다. 변수란 '값을 저장할 수 있는 메모리 공간'이므로 이 메모리 공간에 이름을 붙여주는 것이다. 변수를 선언하면 메모리의 빈 공간에 변수 타입에 알맞은 크기의 저장공간이 확보되고, 이 저장공간은 변수명을 통해 사용할 수 있게 된다.

타입은 크게 기본 타입과 참조 타입 두 가지로 나눌 수 있다.

### 1-1. 기본 타입(primitive type)

기본 타입은 실제 값(data)을 저장한다. 크게 네 가지로 분류할 수 있으며 총 8개의 타입이 존재한다.

- 논리형(boolean): true/false 중 하나를 값으로 가지며 조건식이나 논리적 계산에 사용된다.
- 문자형(char): 문자를 저장한다. 내부적으로 문자의 유니코드(정수)를 저장하기 때문에 정수형과 비슷하다고 볼 수 있다.
- 정수형(byte, short, **int**, long): 정수를 저장한다. 주로 int가 사용된다.
- 실수형(float, **double**): 실수를 저장한다. 주로 double이 사용된다.

| 자료형  |                       저장 가능한 범위                       | 크기(byte) |
| :-----: | :----------------------------------------------------------: | :--------: |
| boolean |                         true, false                          |     1      |
|  char   |                    '\\u0000' ~ '\\uffff'                     |     2      |
|  byte   |       -128 ~ 127 (-2<sup>7</sup> ~ 2<sup>7</sup> - 1)        |     1      |
|  short  |   -32,768 ~ 32,767 (-2<sup>15</sup> ~ 2<sup>15</sup> - 1)    |     2      |
|   int   |             -2<sup>31</sup> ~ 2<sup>31</sup> - 1             |     4      |
|  long   |             -2<sup>63</sup> ~ 2<sup>63</sup> -1              |     8      |
|  float  | 1.4 × 10<sup>-45</sup> ~ 3.4 × 10<sup>38</sup> (정밀도: 7자리) |     4      |
| double  | 4.9 × 10<sup>-324</sup> ~ 1.8 × 10<sup>308 </sup>(정밀도: 15자리) |     8      |

실수형의 정밀도는 해당 자릿수만큼의 십진수를 오차 없이 저장할 수 있다는 의미이다. float의 경우 정밀도가 7자리밖에 되지 않으므로 보다 높은 정밀도가 필요한 경우 double을 선택해야 한다.

### 1-2. 참조 타입(reference type)

객체가 저장된 **메모리의 주소(memory adress)** 혹은 null을 값으로 갖는다. 기본 타입이 아닌 모든 타입이 참조 타입에 해당한다. 참조 타입 변수 간에는 연산을 할 수 없으므로 실제 연산에 사용되는 것은 모두 기본 타입 변수다.

참조 타입 변수를 선언할 때는 변수의 타입으로 클래스의 이름을 사용하므로 클래스명이 변수의 타입이 된다. 따라서 클래스를 새로 정의하는 일은 타입을 새로 만드는 일이라고 할 수 있다. 다음과 같은 코드에서는 Date 객체를 생성해서 그 주소를 today 변수에 저장한 것이다.

```java
Date today = new Date();
```

만약 참조 타입 변수가 어떤 메모리 주소도 가리키지 않는다면 그 변수는 null을 가리킨다.

<br>

## 2. 상수와 리터럴

### 2-1. 상수(constant)

상수란 변수와 마찬가지로 '값을 저장할 수 있는 공간'이지만, 변수와 달리 한 번 값을 저장하면 다른 값으로 변경할 수 없다. 따라서 변수와 달리 상수는 반드시 선언과 동시에 초기화해야 한다. 

상수를 선언할 때는 타입 앞에 'final' 키워드를 붙여준다. 그리고 많은 코딩 컨벤션에서 상수명은 CONSTANT_CASE로 명명하도록 권하고 있다.

```java
final int MAX_LENGTH = 10;
```

### 2-2. 리터럴(literal)

리터럴이란 123, 3.14, 'A', true 같은 값 그 자체를 의미한다. 

![variable_constant_literal](https://user-images.githubusercontent.com/55024033/110238912-7da1cb80-7f87-11eb-91b1-270483fc8dfe.png)

일반적으로 의미 있는 값이라면 리터럴을 그대로 사용하기보다는 상수로 만든 후 그 상수를 사용하는 것을 권장한다. 리터럴은 그 자체로 값의 의미를 파악하기 힘들고, 값을 수정해야 할 경우 여러 곳을 수정해야 할 수도 있기 때문이다.

#### 리터럴의 타입

|  종류  |          리터럴          |       접미사        |
| :----: | :----------------------: | :-----------------: |
| 논리형 |       true, false        |          x          |
| 정수형 | 123, 0b0101, 0xFF, 100L  |       L(long)       |
| 실수형 | 3.14, 3.0e8, 1.4f, 2.71d | f(float), d(double) |
| 문자형 |      'A', '1', '\n'      |          x          |
| 문자열 |       "ABC", "123"       |          x          |

정수형과 실수형에는 여러 타입이 존재하므로 접미사를 붙여 타입을 구분한다. 접미사는 대소문자 구분을 하지 않지만 long의 접미사는 소문자 l의 경우 숫자 1과 혼동될 수 있어 대문자 L을 사용한다.

정수형 리터럴의 기본 자료형은 int이고 실수형 리터럴의 기본 자료형은 double이다. 따라서 접미사가 붙지 않은 정수형 리터럴은 int이고 접미사가 붙지 않은 실수형 리터럴은 double이다. 일반적으로 long, float를 쓸 때만 접미사 L, f를 붙여 기본 자료형과 구분한다. byte와 short 리터럴은 따로 존재하지 않으며 변수에 값을 저장할 때는 int 리터럴을 사용한다.

정수형과 실수형 리터럴의 경우 접두사로 '0x', '0', '0b'를 붙여 16진수, 8진수, 2진수로 표현할 수 있다.

### 2-3 문자열(String)

문자열이란 변경 불가능한 유니코드 문자의 나열이다. Java의 문자열은 java.lang.String 클래스의 객체지만 Java String은 일반적인 클래스와 다른 특징을 보인다.

- String은 "Hello, world!"와 같은 문자열 리터럴과 연결된다. 문자열 리터럴을 그대로 String 변수에 저장할 수 있으며 별도로 `new String()`을 통해 생성할 필요가 없다.
- '+' 연산자는 두 개의 String 피연산자를 연결하기 위해 오버로드된다. Point나 Circle 같은 다른 객체들처럼 동작하지 않는다.
- String은 변경 불가능(immutable)하다. 즉 한번 생성되면 문자열 내의 문자를 변경할 수 없다. `toUpperCase()` 같은 메서드의 경우 기존 문자열로부터 새로운 문자열을 생성해 반환하는 것이다.

#### 문자열 리터럴 vs 문자열 객체

문자열을 생성하는 방법은 두 가지로, 문자열 리터럴을 할당하는 암시적 생성과 new 키워드 및 생성자를 통해 String 객체를 생성하는 명시적 생성이 있다.

```java
String s1 = "Hello"; // 리터럴
String s2 = "Hello"; // 리터럴
String s3 = s1;	// s1과 동일한 참조 
String s4 = new String("Hello"); // 객체
String s5 = new String("Hello"); // 객체
String s6 = s4;	// s4와 동일한 참조 
```

![String](https://user-images.githubusercontent.com/55024033/110262024-9fd23280-7ff5-11eb-8231-37f62748eb77.png)

리터럴을 통해 생성할 시 문자열은 Heap의 String constant pool에 저장된다. 동일한 문자열 리터럴을 사용할 경우 내부적으로 `String.intern()`을 통해 String constant pool에 해당 리터럴이 있는지 확인하고, 있을 경우 이미 존재하는 리터럴의 주소를 사용한다. 이는 자주 사용되는 문자열의 저장 공간을 절약하기 위함이다.

반면 new 키워드를 통해 생성된 문자열 객체는 각각 Heap에 따로 저장된다. 두 개의 문자열 객체가 동일한 내용을 가지고 있어도 전혀 별개의 객체로 취급된다.

```java
s1 == s2; // true, 동일한 포인터
s2 == s3; // true, 동일한 포인터
s1.equals(s3); // true, 동일한 내용
s1 == s4; // false, 다른 포인터
s4 == s5; // false, 다른 포인터
s4.equals(s5); // true, 동일한 내용
s1.equals(s4); // true, 동일한 내용
```

<br>

## 3. 타입 변환

### 3-1. 캐스팅(casting)

명시적 형변환이라고도 한다. 변수, 상수, 리터럴의 타입을 다른 타입으로 명시적으로 변환하는 방법이다. 기본 타입은 boolean을 제외하고 모두 캐스팅이 가능하다. 변환할 값 앞에 (타입)을 붙여 수행한다.

```java
int weight = (int) 65.73; // 소수점 아래를 버리고 65가 저장됨

double doubleValue = 1234.56789;
float floatValue = (float) doubleValue; // 정밀도 차이로 인해 값의 일부가 손실되어 저장됨

int character = (int) 'A'; // 'A'에 해당하는 유니코드(65)가 저장됨
```

캐스팅을 통해 더 큰 범위의 값을 더 작은 범위의 변수에 저장할 수 있다.

### 3-2. 프로모션(promotion)

자동 형변환이라고도 한다. 작은 범위의 값을 큰 범위의 변수에 저장할 때, 캐스팅이 없어도 자동으로 타입을 변환하는 것을 말한다. 이때 기존의 값을 최대한 보존할 수 있는 타입으로 프로모션이 수행된다.

또한 서로 다른 두 타입 간에 연산을 수행할 경우, 두 피연산자 중 범위가 작은 값의 타입이 범위가 큰 값의 타입으로 변환된다.

```java
float value = 1000; // 1000.0f가 저장됨

double pi = 3.14;
int r = 5;
double circumference = 2 * pi * r;
// 2(int) * pi(double) = 6.28(double)
// 6.28(double) * r(int) = 31.4(double)
```

프로모션이 일어날 수 있는 방향은 다음과 같다. 반대 방향으로 타입 변환을 해야 할 경우 캐스팅이 필요하다.

![promotion](https://user-images.githubusercontent.com/55024033/110269372-dd8b8700-8006-11eb-8b22-184d6eabce9d.png)

일반적으로 자료형의 크기가 클수록 값의 표현범위가 크지만, 실수형은 정수형과 값을 표현하는 방식이 다르기 때문에 같은 크기일지라도 실수형이 정수형보다 훨씬 큰 표현범위를 갖는다. 따라서 float와 doble이 같은 크기인 int와 long보다 오른쪽에 위치한다.

---

##### 참고자료

- [\"Java의 정석" 3판](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=76083001&start=slayer)

- [String is Special - Java Programming Tutorial](https://www3.ntu.edu.sg/home/ehchua/programming/java/J3d_String.html)
- [Java String 의 메모리에 대한 고찰](https://medium.com/@joongwon/string-의-메모리에-대한-고찰-57af94cbb6bc)